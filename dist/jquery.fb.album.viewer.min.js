/*
 * https://github.com/research-and-develop/jquery-fb-album-viewer
 * Released under the MIT license
 */
!function(a){a.fn.FacebookAlbumViewer=function(i){var e={STYLE_ID:"fb-album-viewer-style",API_URL:"https://graph.facebook.com/",FIELDS:["id","created_time","from","height","icon","images","link","name","picture","updated_time","width","source"],TMPL_IMG:'<div class="fav-col fav-xxs-12 fav-lg-3 fav-md-3 fav-sm-4 fav-xs-6">   <div class="image-wrapper" id="[@img-id@]">      <a target="_blank" href="[@img-href@]">         <img src="[@img-url@]" class="fb-album-viewer-img">      </a>      [@likes-box@]   </div></div>',TMPL_LIKES_BOX:'<table class="likes-box">   <tbody>      <tr>         <td valign="middle"><img src="https://embedsocial.com/image/like.png"></td>         <td valign="middle"><span class="likes"></span></td>      </tr>   </tbody></table>',TAG_IMG_HREF:"[@img-href@]",TAG_IMG_ID:"[@img-id@]",TAG_IMG_URL:"[@img-url@]",TAG_LIKES:"[@likes-box@]"},t={account:"",accessToken:"",albumId:"",showLikes:!1,debug:!1,containerWidth:820},s=a(this),f=a.extend({},t,i),d='<style type="text/css" id="'+e.STYLE_ID+'">';d+='.fb-album-viewer-wrapper{margin-right: -15px; margin-left: -15px;}.fb-album-viewer-wrapper:before,.fb-album-viewer-wrapper:after{display: table;content: " ";}.fb-album-viewer-wrapper:after{clear: both;}',d+=".fav-col{position: relative;min-height: 1px;padding-right: 15px;padding-left: 15px;}",d+=".likes-box { background-color: rgba(0, 0, 0, 0.5); color: white; position: absolute; left: 5px; bottom: 10px; padding: 0px 5px; z-index: 2; font-size: 12px; display: block; border-radius: 3px;}",d+=".likes{color:white;}",d+=".fb-album-viewer-img{position: absolute; top: -9999px; left: -9999px; right: -9999px; bottom: -9999px; margin: auto;}",d+=".image-wrapper{position: relative; overflow: hidden; margin:5px auto;}.image-wrapper img{max-width: none;}",d+=".fav-xs-1,.fav-xs-2,.fav-xs-3,.fav-xs-4,.fav-xs-5,.fav-xs-6,.fav-xs-7,.fav-xs-8,.fav-xs-9,.fav-xs-10,.fav-xs-11,.fav-xs-12{float: left;}.fav-xs-12{width: 100%;}.fav-xs-11 {width: 91.66666667%;}.fav-xs-10 {width: 83.33333333%;}.fav-xs-9 {width: 75%;}.fav-xs-8 {width: 66.66666667%;}.fav-xs-7 {width: 58.33333333%;}.fav-xs-6 {width: 50%;}.fav-xs-5 {width: 41.66666667%;}.fav-xs-4 {width: 33.33333333%;}.fav-xs-3 {width: 25%;}.fav-xs-2 {width: 16.66666667%;}.fav-xs-1 {width: 8.33333333%;}",d+=" @media (min-width: 550px) { .image-wrapper{width: 260px; height: 260px;} .likes-box { bottom: 20px;} }",d+=" @media (min-width: 600px) { .image-wrapper{width: 280px; height: 280px;} .likes-box { bottom: 30px;} }",d+=" @media (min-width: 640px) { .image-wrapper{width: 330px; height: 330px;} .likes-box { bottom: 40px;} }",d+=" @media (min-width: 768px) { .image-wrapper{width: 260px; height: 200px;} .likes-box { bottom: 50px;}.fav-sm-1, .fav-sm-2, .fav-sm-3, .fav-sm-4, .fav-sm-5, .fav-sm-6, .fav-sm-7, .fav-sm-8, .fav-sm-9, .fav-sm-10, .fav-sm-11, .fav-sm-12 {float: left;}.fav-sm-12 {width: 100%;}.fav-sm-11 {width: 91.66666667%;}.fav-sm-10{width: 83.33333333%;} .fav-sm-9 {width: 75%;}.fav-sm-8{width: 66.66666667%;}.fav-sm-7{width: 58.33333333%;}.fav-sm-6{width: 50%;}.fav-sm-5{width: 41.66666667%;}.fav-sm-4{width: 33.33333333%;}.fav-sm-3{width: 25%;}.fav-sm-2{width: 16.66666667%;}.fav-sm-1{width: 8.33333333%;}}",d+=" @media (min-width: 1200px) {.image-wrapper{width: 200px; height: 200px;}.fav-lg-1, .fav-lg-2, .fav-lg-3, .fav-lg-4, .fav-lg-5, .fav-lg-6, .fav-lg-7, .fav-lg-8, .fav-lg-9, .fav-lg-10, .fav-lg-11, .fav-lg-12 {float: left;}.fav-lg-12 {width: 100%;}.fav-lg-11 {width: 91.66666667%;}.fav-lg-10{width: 83.33333333%;}.fav-lg-9 {width: 75%;}.fav-lg-8{width: 66.66666667%;}.fav-lg-7{width: 58.33333333%;}.fav-lg-6{width: 50%;}.fav-lg-5{width: 41.66666667%;}.fav-lg-4{width: 33.33333333%;}.fav-lg-3{width: 25%;}.fav-lg-2{width: 16.66666667%;}.fav-lg-1{width: 8.33333333%;}}",d+=" @media (max-width: 549px) { .image-wrapper{width: 320px; height: 320px;} .likes-box { bottom: 55px;} .fav-xxs-12{width: 100%;} }",d+="</style>";var o=function(){var i=!1;a("head").children().each(function(a,t){return"STYLE"==t.tagName&&t.id==e.STYLE_ID?(i=!0,!1):void 0}),i||a(d).appendTo("head")},l=function(){if(!f.accessToken.length)return void console.error("accessToken is missing cannot proceed ...");if(!f.albumId.length)return void console.error("albumId is missing cannot proceed ...");var a=e.API_URL+f.albumId+"/photos?access_token="+f.accessToken+"&fields="+e.FIELDS.join(",");n(a).then(function(a,i,e){v("success ..."),v(a),"undefined"!=typeof a.data&&r(a.data)},function(a,i,e){v("failed ..."),v(e)})},r=function(i){for(var t="",d=0;d<i.length;d++){var o=i[d];t+=e.TMPL_IMG.replace(e.TAG_IMG_HREF,o.link).replace(e.TAG_IMG_ID,o.id).replace(e.TAG_IMG_URL,o.images[o.images.length-1].source).replace(e.TAG_LIKES,f.showLikes?e.TMPL_LIKES_BOX:"")}if(s.html('<div class="fb-album-viewer-wrapper">'+t+"</div>"),f.showLikes)for(var d=0;d<i.length;d++){var o=i[d];!function(i){n(e.API_URL+i+"/likes?access_token="+f.accessToken).then(function(e,t,s){a("#"+i).find(".likes")[0].innerHTML=e.data.length},function(a,i,e){console.log(e)})}(o.id)}},v=function(a){f.debug&&console.log(a)},n=function(i){return a.ajax({method:"GET",url:i,cache:!1})};return o(),l(),s.css({"max-width":f.containerWidth,margin:"0px auto"}),s}}(jQuery);